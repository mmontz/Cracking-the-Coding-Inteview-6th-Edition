
class solution1 { //for sorted array
public:
    int findMagicIndex (vector <int> &V, int s , int e){
        if (s>e)
            return -1;
        int m = s+(e-s)/2;
        if (V[m] == m)
            return m;
        return V[m]>m? findMagicIndex(V, s, m-1): findMagicIndex(V, m+1, e);
    }
    
    int magicIndex (vector<int> &V){
        return findMagicIndex(V, 0, V.size()-1);
    }
};

class solution2 { //general case
public:
    int findMagicIndex (vector <int>& V , int s , int e){
        if (s>e)
            return -1;
        
        int mid = s+(e-s)/2;
        if (V[mid] == mid)
            return mid;
        int left = findMagicIndex(V, s, min (mid-1, V[mid]));
        if (left >= 0)
            return left;
        
        return findMagicIndex(V, max (mid+1 , V[mid]), e);
    }
    
    int magicIndex (vector <int> & V){
        return findMagicIndex (V , 0 , V.size()-1);
    }

};

